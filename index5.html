<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Course List</title>

  <!-- Font Awesome -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>

  <style>
    :root{
      --bg:#0b1220;
      --card:#0f172a;
      --muted:#94a3b8;
      --text:#e5e7eb;
      --shadow:0 12px 30px rgba(0,0,0,.35);
      --radius:14px;
      --warning:#f59e0b;
      --primary:#3b82f6;
      --secondary:#64748b;
      --success:#22c55e;
    }

    /* ===== helper missing classes ===== */
    .w-100{ width:100%; }
    .img-fluid{ max-width:100%; height:auto; display:block; }
    .font-size-xs{ font-size:12px; }

    /* ===== BODY ===== */
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:linear-gradient(135deg,#070b14,#0b1220);
      color:var(--text);
      /* chừa chỗ cho header sticky */
      padding: 110px 24px 24px;
    }
    .container{ max-width:1200px; margin:0 auto; }

    /* ===== HEADER (HowKteam-like) ===== */
    .header-bar{
      position:fixed; top:0; left:0; right:0;
      z-index:9999;
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,.12);
    }
    .content-header{
      max-width: 1200px;
      margin: 0 auto;
      padding: 14px 16px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .content-header-section{ display:flex; align-items:center; gap:12px; }
    .mr-auto{ margin-right:auto; }
    .mr-20{ margin-right:20px; }
    .mr-5{ margin-right:6px; }
    .mb-15{ margin-bottom:0; } /* giữ layout gọn */

    .d-none{ display:none; }
    .d-lg-inline{ display:none; }
    @media (min-width: 992px){
      .d-none.d-lg-inline{ display:flex; }
    }

    .nav-main-header{
      list-style:none; margin:0; padding:0;
      display:flex; gap:14px;
    }
    .nav-main-header a{
      color:#fff; text-decoration:none;
      font-weight:800;
      padding:8px 10px;
      border-radius:10px;
      opacity:.95;
    }
    .nav-main-header a:hover{
      background: rgba(255,255,255,.12);
      opacity:1;
    }

    /* header buttons */
    .header-actions{ margin-left:auto; display:flex; align-items:center; gap:10px; }
    .btn{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      color:#fff;
      cursor:pointer;
      text-decoration:none;
      font-weight:800;
      font-size:13px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:12px;
      user-select:none;
    }
    .btn:hover{ background: rgba(255,255,255,.16); }
    .btn:active{ transform:scale(.98); }
    .btn-circle{ width:40px; height:40px; border-radius:999px; justify-content:center; padding:0; }
    .btn-rounded{ border-radius:999px; padding: 9px 12px; }

    .btn-dual-secondary{ /* giữ tên class giống mẫu */ }

    .btn-group{ position:relative; display:inline-flex; }
    .dropdown-menu{
      position:absolute;
      top: calc(100% + 10px);
      right:0;
      min-width: 180px;
      background: rgba(15,23,42,.98);
      border:1px solid rgba(255,255,255,.16);
      border-radius: 14px;
      padding: 8px;
      display:none;
      box-shadow: 0 12px 30px rgba(0,0,0,.35);
    }
    .dropdown-menu.show{ display:block; }
    .dropdown-item{
      display:flex; align-items:center; gap:10px;
      color:#fff; text-decoration:none;
      padding:10px 10px;
      border-radius: 10px;
      font-weight:800;
      white-space:nowrap;
    }
    .dropdown-item:hover{ background: rgba(255,255,255,.10); }
    .min-width-150{ min-width:180px; }

    .avatar-xs{
      width:22px; height:22px;
      border-radius:999px;
      object-fit:cover;
      border:2px solid rgba(255,255,255,.15);
    }

    /* ===== GRID (giống bootstrap col-*) ===== */
    .row{ display:flex; flex-wrap:wrap; margin:-12px; }
    .row > [class*="col-"]{ padding:12px; box-sizing:border-box; }

    .col-md-6{ width:100%; }
    @media (min-width:768px){ .col-md-6{ width:50%; } }
    @media (min-width:992px){ .col-lg-4{ width:33.3333%; } }
    @media (min-width:1200px){ .col-xl-3{ width:25%; } }

    /* ===== CARD ===== */
    .block{
      background:rgba(15,23,42,.9);
      border:1px solid rgba(148,163,184,.18);
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow:var(--shadow);
      position:relative;
    }
    .block-link-shadow{ transition:.15s ease; }
    .block-link-shadow:hover{ transform:translateY(-2px); }

    /* Ribbon */
    .ribbon-bookmark.ribbon-left::before{
      content:"";
      position:absolute;
      left:0; top:0;
      width:0; height:0;
    }
    .ribbon-success::after{
      content:"COURSE";
      position:absolute;
      top:14px;
      left:-6px;
      background:var(--success);
      color:#052e16;
      font-weight:900;
      font-size:11px;
      padding:7px 12px 7px 14px;
      border-radius:10px;
      letter-spacing:.3px;
      z-index:5;
    }

    /* Image + overlay */
    .options-container{ position:relative; }
    .options-item{ width:100%; display:block; aspect-ratio:16/9; object-fit:cover; }
    .bg-black-op-75{ background:rgba(0,0,0,.75); }

    .options-overlay{
      position:absolute; inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      opacity:0;
      transition:.2s ease;
    }
    .options-overlay-content{
      display:flex;
      gap:10px;
      transform:translateY(6px);
      transition:.2s ease;
    }
    .options-container:hover .options-overlay{ opacity:1; }
    .options-container:hover .options-overlay-content{ transform:translateY(0); }

    /* Buttons (card buttons) */
    .btn-noborder{ border:0; }
    .btn-square{ border-radius:10px; }
    .min-width-75{ min-width:120px; justify-content:center; }
    .btn-primary{ background:var(--primary); border-color:transparent; }
    .btn-secondary{ background:var(--secondary); border-color:transparent; }

    /* Content */
    a{ color:inherit; }
    .block-content{ padding:14px 14px; }
    .block-content-sm{ padding-top:10px; padding-bottom:10px; }

    .font-size-default{ font-size:15px; }
    .font-w600{ font-weight:800; }
    .mb-10{ margin-bottom:10px; }
    .mt-10{ margin-top:10px; }

    .text-overflow-dot{
      overflow:hidden;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
    }

    .text-warning{ color:var(--warning); }
    .font-size-sm{ font-size:13px; }
    .text-muted{ color:var(--muted); }

    .text-secondary{ color:#cbd5e1; }
    .font-size-lg{ font-size:18px; }

    .badge{
      display:inline-block;
      padding:5px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:900;
    }
    .badge-pill{ border-radius:999px; }
    .badge-warning{ background:var(--warning); }
    .text-dark{ color:#1f2937; }

    .bg-body-light{
      background:rgba(148,163,184,.10);
      border-top:1px solid rgba(148,163,184,.16);
    }

    .d-inline-block{ display:inline-block; }
    .mr-10{ margin-right:10px; }
    .ml-5{ margin-left:6px; }

    /* author */
    .useravatar-edit-container{
      border-top:1px solid rgba(148,163,184,.16);
      display:flex;
      align-items:center;
      gap:10px;
      color:var(--muted);
    }
    .useravatar-edit{ display:inline-flex; align-items:center; gap:8px; text-decoration:none; }
    .avatar-sm{
      width:32px; height:32px;
      border-radius:999px;
      object-fit:cover;
      border:2px solid rgba(255,255,255,.15);
    }

    /* modal video */
    .modal{
      position:fixed; inset:0;
      background:rgba(0,0,0,.7);
      display:none;
      place-items:center;
      padding:18px;
      z-index:99999;
    }
    .modal.open{ display:grid; }
    .modal-card{
      width:min(920px, 100%);
      background:#0b1220;
      border-radius:14px;
      overflow:hidden;
      border:1px solid rgba(148,163,184,.22);
      box-shadow:var(--shadow);
    }
    .modal-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 12px;
      background:rgba(148,163,184,.08);
      font-weight:900;
    }
    .modal-close{
      border:0;
      background:transparent;
      color:var(--text);
      font-size:20px;
      cursor:pointer;
    }
    .video{ width:100%; aspect-ratio:16/9; border:0; display:block; }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header class="header-bar" id="page-header">
    <div class="content-header">
      <div class="content-header-section mr-20">
        <div class="content-header-item">
          <a href="/" style="display:inline-flex;align-items:center;">
            <img src="/Content/images/logo/kteam_w_70x32.png" alt="HowKteam" style="height:32px;width:auto;">
          </a>
        </div>
      </div>

      <div class="content-header-section d-none d-lg-inline mr-auto">
        <ul class="nav-main-header">
          <li><a href="/about">Giới thiệu</a></li>
          <li><a href="/learn">Khóa học</a></li>
          <li><a href="/question">Hỏi đáp</a></li>
          <li><a href="/documentation">Bài viết</a></li>
          <li><a href="/about/contact">Liên hệ</a></li>
        </ul>
      </div>

      <div class="header-actions">
        <a class="btn btn-circle btn-dual-secondary" href="/search" title="Tìm kiếm">
          <i class="fa-solid fa-magnifying-glass"></i>
        </a>

        <div class="btn-group" role="group">
          <button type="button"
                  class="btn btn-circle btn-dual-secondary"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                  title="Tạo mới">
            <i class="fa-solid fa-pen"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right min-width-150">
            <a class="dropdown-item" href="#" data-toggle="btn-create-question">
              <i class="fa-regular fa-circle-question"></i> Đặt câu hỏi
            </a>
            <a class="dropdown-item" href="/documentation/create">
              <i class="fa-regular fa-file-lines"></i> Viết bài
            </a>
            <a class="dropdown-item" href="/series/create">
              <i class="fa-solid fa-list"></i> Tạo series
            </a>
          </div>
        </div>

        <div class="btn-group" role="group">
          <button type="button"
                  class="btn btn-rounded btn-dual-secondary"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false">
            <img src="/Content/images/avatar/avatar.png" class="avatar-xs" alt="Avatar">
            <span class="mr-5">Tài khoản</span>
            <i class="fa-solid fa-angle-down"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right min-width-150">
            <a class="dropdown-item" href="/account/login?ReturnUrl=%2F">
              <i class="fa-regular fa-user"></i> Đăng nhập
            </a>
            <a class="dropdown-item" href="/account/register">
              <i class="fa-solid fa-user-plus"></i> Đăng ký
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- CONTENT -->
  <div class="container">
    <div class="row row-deck items-push" id="course-list">

      <!-- ITEM 1 -->
      <div class="col-md-6 col-lg-4 col-xl-3">
        <div class="block block-link-shadow block-rounded ribbon ribbon-bookmark ribbon-left ribbon-success">
          <div class="options-container">
            <img class="img-fluid options-item w-100"
                 src="https://f.howkteam.vn/Upload/cke/images/1_LOGO%20SHOW%20WEB/1_C%23_AutoC%23/14_Qu%E1%BA%A3n%20l%C3%BD%20qu%C3%A1n%20cafe%20C%23%20winform/QuanLyQuanCaFe.jpg"
                 alt="Lập trình phần mềm Quản lý quán cafe với C# Winform">
            <div class="options-overlay bg-black-op-75">
              <div class="options-overlay-content">
                <a class="btn btn-noborder btn-square btn-secondary min-width-75 btnQuickViewCourse"
                   href="javascript:void(0);"
                   data-src="https://www.youtube.com/embed/tu2k9ZrDlWA?autoplay=1"
                   onclick="openVideo(this)">
                  <i class="fa-solid fa-video"></i> Giới thiệu
                </a>
                <a class="btn btn-noborder btn-square btn-primary min-width-75 btnQuickLearnCourse"
                   href="javascript:void(0);"
                   onclick="alert('Học nhanh (demo)')">
                  <i class="fa-regular fa-circle-play"></i> Học nhanh
                </a>
              </div>
            </div>
          </div>

          <a href="#" style="text-decoration:none">
            <div class="block-content block-content-full block-sticky-options">
              <h4 class="font-size-default font-w600 mb-10 text-overflow-dot"
                  title="Lập trình phần mềm Quản lý quán cafe với C# Winform">
                Lập trình phần mềm Quản lý quán cafe với C# Winform
              </h4>

              <div class="text-warning font-size-sm" style="display:flex;align-items:center;gap:10px;">
                <span>
                  <i class="fa-solid fa-star fa-fw"></i>
                  <i class="fa-solid fa-star fa-fw"></i>
                  <i class="fa-solid fa-star fa-fw"></i>
                  <i class="fa-solid fa-star fa-fw"></i>
                  <i class="fa-regular fa-star fa-fw"></i>
                </span>

                <span class="text-muted">
                  <span class="font-w600">4.9</span> (106)
                </span>

                <span class="text-secondary font-size-lg"
                      style="margin-left:auto; cursor:pointer;"
                      onclick="toggleBookmark(this); return false;"
                      title="Lưu bài viết">
                  <i class="fa-regular fa-bookmark"></i>
                </span>
              </div>

              <div class="mt-10">
                <span class="font-size-xs badge badge-pill badge-warning text-dark">From Kteam</span>
              </div>
            </div>

            <div class="block-content block-content-full block-content-sm bg-body-light text-muted font-size-sm">
              <div class="d-inline-block mr-10">
                <i class="fa-solid fa-book-open fa-fw"></i>
                <strong>26</strong> bài học
              </div>
              <div class="d-inline-block">
                <i class="fa-solid fa-eye fa-fw"></i>
                <strong>1.765.755</strong> lượt xem
              </div>
            </div>
          </a>

          <div class="block-content block-content-full useravatar-edit-container">
            <span class="mr-10 text-muted">Tác giả/Dịch giả:</span>
            <a href="#" class="mr-10 useravatar-edit">
              <img src="https://res.cloudinary.com/howkteam/image/upload/c_fill,g_face,h_120,w_120/v1538507427/avatar_user/ab7kuok0wqxkew31hwfc.png"
                   class="avatar-sm" loading="lazy" alt="K9">
              <span class="ml-5">K9</span>
            </a>
          </div>
        </div>
      </div>

      <!-- (Các item còn lại bạn giữ y nguyên như file cũ) -->

    </div>
  </div>

  <!-- VIDEO MODAL -->
  <div id="modal" class="modal" onclick="closeVideo(event)">
    <div class="modal-card">
      <div class="modal-head">
        <div>Video giới thiệu</div>
        <button class="modal-close" onclick="closeVideo(event)" aria-label="Đóng">&times;</button>
      </div>
      <iframe id="player" class="video" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
  </div>

  <script>
    // ===== dropdown (no bootstrap needed) =====
    function closeAllDropdowns(){
      document.querySelectorAll('.dropdown-menu.show').forEach(m => m.classList.remove('show'));
      document.querySelectorAll('[data-toggle="dropdown"][aria-expanded="true"]').forEach(b => b.setAttribute('aria-expanded','false'));
    }

    document.addEventListener('click', function(e){
      const btn = e.target.closest('[data-toggle="dropdown"]');
      const insideMenu = e.target.closest('.dropdown-menu');

      if(btn){
        e.preventDefault();
        const group = btn.closest('.btn-group');
        const menu = group ? group.querySelector('.dropdown-menu') : null;
        if(!menu) return;

        const isOpen = menu.classList.contains('show');
        closeAllDropdowns();
        if(!isOpen){
          menu.classList.add('show');
          btn.setAttribute('aria-expanded','true');
        }
        return;
      }

      if(!insideMenu){
        closeAllDropdowns();
      }
    });

    document.addEventListener('keydown', function(e){
      if(e.key === 'Escape') closeAllDropdowns();
    });

    // ===== your existing functions =====
    function openVideo(el){
      const url = el.getAttribute('data-src') || '';
      if(!url){
        alert('Khoá này chưa có video giới thiệu.');
        return;
      }
      document.getElementById('player').src = url;
      document.getElementById('modal').classList.add('open');
      closeAllDropdowns(); // tiện: mở video thì đóng dropdown
    }

    function closeVideo(e){
      const modal = document.getElementById('modal');
      if(e.target.id === 'modal' || e.target.classList.contains('modal-close')){
        modal.classList.remove('open');
        document.getElementById('player').src = '';
      }
    }

    function toggleBookmark(wrapper){
      const icon = wrapper.querySelector('i');
      const saved = icon.classList.contains('fa-solid');
      icon.className = saved ? 'fa-regular fa-bookmark' : 'fa-solid fa-bookmark';
    }
  </script>
</body>
</html>
